!function(t,e){"use strict";var n=function(){var t=e,n=t.documentElement,i=t.body,s=function(e){var n=t.createElement("div").style,i=function(t){return t.replace(/-\D/g,function(t){return t.charAt(1).toUpperCase()})};if(i(e)in n)return!0;for(var s=["webkit","Moz","ms","O"],o=0,a=s.length,r="";a>o;o++)if(r=s[o]+"-"+e,i(r)in n)return!0;return!1},o=function(t){var e=t.getBoundingClientRect(),s=n.clientTop||i.clientTop||0,o=n.clientLeft||i.clientLeft||0,a=e.width,r=e.height,l=e.left+(self.pageXOffset||n.scrollLeft||i.scrollLeft)-o,c=e.top+(self.pageYOffset||n.scrollTop||i.scrollTop)-s;return{left:l,top:c,width:a,height:r}},a=function(){var e=n.scrollLeft||i.scrollLeft,s=n.scrollTop||i.scrollTop;return"CSS1Compat"!=t.compatMode&&(e=i.scrollLeft,s=i.scrollTop),{left:e,top:s}},r=function(){var e=n.clientWidth||i.clientWidth,s=n.clientHeight||i.clientHeight;return"CSS1Compat"!=t.compatMode&&(e=i.clientWidth,s=i.clientHeight),{width:e,height:s}},l=function(t,e,n){return t.addEventListener?t.addEventListener(e,n,!1):t.attachEvent("on"+e,n)},c=function(t,e,n){return t.removeEventListener?t.removeEventListener(e,n,!1):t.detachEvent("on"+e,n)},d=function(t,e,n){for(var i=0,s=e.length;s>i;i++)l(t,e[i],n)},h=function(t,e){d(t,["webkitAnimationEnd","mozAnimationEnd","MSAnimationEnd","oanimationend","animationend","webkitTransitionEnd","MSTransitionEnd","oTransitionEnd","transitionend"],function(){e&&e()})},f=function(t,e){return(" "+t.className+" ").indexOf(" "+e+" ")>-1},u=function(t,e){f(t,e)||(t.className+=" "+e)},p=function(t,e){f(t,e)&&(t.className=t.className.replace(new RegExp("(\\s|^)"+e+"(\\s|$)"),""))},m=function(t,n){if(e.getElementsByClassName)return(n||e).getElementsByClassName(t);for(var i=[],s=new RegExp("(^| )"+t+"( |$)"),o=(n||e).getElementsByTagName("*"),a=0,r=o.length;r>a;a++)s.test(o[a].className)&&i.push(o[a]);return i};return{supportCss:s,offset:o,scroll:a,size:r,on:l,off:c,animateEnd:h,addClass:u,removeClass:p,getClass:m}}(),i=function(t){t=t||{},this.nodes=n.getClass(t.spaClass||"spa"),this.activeClass=t.activeClass||"animated",this.unbind=t.unbind===!1?!1:!0,this.disable=t.disable===!1?!1:!0,this.support=!(!n.supportCss("transition")||!n.supportCss("animation")),this.enable=this.support?!0:!1,this.disable===!1&&(this.enable=!0),this.visible=t.visible||!1,this.delay=t.delay||100,this.data=[],this.count=0,this.onLoad=t.onLoad||function(){},this.onEnd=t.onEnd||function(){},this._init()};i.prototype={_init:function(){this.enable&&(this._set(),this._fix(),this._bind())},_set:function(){var t,e=0,n=this.nodes.length;if(!(1>n)){for(;n>e;e++)t=this.nodes[e],!this.visible&&this._hide(t),this.data.push({node:t,loaded:!1,animate:t.getAttribute("data-animate")||""});this.count=this.data.length}},_fix:function(){this._scroll(),this._size()},_scroll:function(){var t=n.scroll();this.scrollX=t.left,this.scrollY=t.top},_size:function(){var t=n.size();this.wWidth=t.width,this.wHeight=t.height},_bind:function(){var e=this,i=function(s){var o=s||t.event,a=o.type;if(e.count<1){if(!e.unbind)return;return n.off(t,"scroll",i),n.off(t,"resize",i),void(e.onEnd&&e.onEnd())}e.timer&&clearTimeout(e.timer),e.timer=setTimeout(function(){"resize"==a&&e._size(),"scroll"==a&&e._scroll(),e._check()},e.delay)};n.on(t,"resize",i),n.on(t,"scroll",i)},_check:function(){if(!(this.count<1))for(var t,e=0,i=this.data.length;i>e;e++)this.data[e].rect||(this.data[e].rect=n.offset(this.data[e].node)),t=this.data[e],t.loaded||this._visible(t.rect)&&(this._show(t.node),""!=t.animate?n.addClass(t.node,t.animate):n.addClass(t.node,this.activeClass),t.loaded=!0,this.count--,this.onLoad&&this.onLoad(t.node))},_visible:function(t){var e=t.left,n=t.top,i=e+t.width,s=n+t.height,o=this.scrollX,a=this.scrollY,r=o+this.wWidth,l=a+this.wHeight;return r>e&&i>o&&l>n&&s>a},_show:function(t){this.support&&(t.style.opacity=1)},_hide:function(t){this.support&&(t.style.opacity=0)},_add:function(t){this.data.push({node:t,loaded:!1,animate:node.getAttribute("data-animate")||"",rect:n.offset(t)})},add:function(t){if(t.length&&t.length>0)for(var e=0,n=t.length;n>e;e++)this._add(t[e]),this.count++;else this._add(t),this.count++;return this},start:function(){this.enable&&this._check()}},"function"==typeof define&&(define.amd||define.cmd)?define("SPA",[],function(){return i}):t.SPA=i}(window,document);